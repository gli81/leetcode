# -*- coding: utf-8 -*-

from typing import List

class NumberofIslands:
    def numIslands(
        self,
        grid: "List[List[str]]"
    ) -> "str":
        rows = len(grid)
        if not rows: return 0
        cols = len(grid[0])
        visited = [[False] * cols for _ in range(rows)]
        ans = 0
        dirs = [[0, 1], [0, -1], [1, 0], [-1, 0]]
        for i in range(rows):
            for j in range(cols):
                if grid[i][j] == '1' and not visited[i][j]:
                    q = []
                    q.append([i, j])
                    visited[i][j] = True
                    while q:
                        [x, y] = q.pop(0)
                        visited[x][y] = True
                        for [d0, d1] in dirs:
                            new_x = x + d0
                            new_y = y + d1
                            if 0 <= new_x < rows and\
                            0 <= new_y < cols and\
                            not visited[new_x][new_y] and\
                            grid[new_x][new_y] == '1':
                                q.append([new_x, new_y])
                                visited[new_x][new_y] = True
                            # print(q)
                        # print(q)
                        # print('\n')
                    ans += 1
                    # print(ans)
        return ans


def main():
    test = NumberofIslands()
    test1 = [
        ['1', '1', '1', '1', '0'],
        ['1', '1', '0', '1', '0'],
        ['1', '1', '0', '0', '0'],
        ['0', '0', '0', '0', '0']
    ]
    print(test.numIslands(test1))
    test2 = [
        ['1', '1', '0', '0', '0'],
        ['1', '1', '0', '0', '0'],
        ['0', '0', '1', '0', '0'],
        ['0', '0', '0', '1', '1']
    ]
    print(test.numIslands(test2))
    test3 = [["1","1","1","1","1","0","1","1","1","1","1","1","1","1","1","0","1","0","1","1"],
             ["0","1","1","1","1","1","1","1","1","1","1","1","1","0","1","1","1","1","1","0"],
             ["1","0","1","1","1","0","0","1","1","0","1","1","1","1","1","1","1","1","1","1"],
             ["1","1","1","1","0","1","1","1","1","1","1","1","1","1","1","1","1","1","1","1"],
             ["1","0","0","1","1","1","1","1","1","1","1","1","1","1","1","1","1","1","1","1"],
             ["1","0","1","1","1","1","1","1","0","1","1","1","0","1","1","1","0","1","1","1"],
             ["0","1","1","1","1","1","1","1","1","1","1","1","0","1","1","0","1","1","1","1"],
             ["1","1","1","1","1","1","1","1","1","1","1","1","0","1","1","1","1","0","1","1"],
             ["1","1","1","1","1","1","1","1","1","1","0","1","1","1","1","1","1","1","1","1"],
             ["1","1","1","1","1","1","1","1","1","1","1","1","1","1","1","1","1","1","1","1"],
             ["0","1","1","1","1","1","1","1","0","1","1","1","1","1","1","1","1","1","1","1"],
             ["1","1","1","1","1","1","1","1","1","1","1","1","1","1","1","1","1","1","1","1"],
             ["1","1","1","1","1","1","1","1","1","1","1","1","1","1","1","1","1","1","1","1"],
             ["1","1","1","1","1","0","1","1","1","1","1","1","1","0","1","1","1","1","1","1"],
             ["1","0","1","1","1","1","1","0","1","1","1","0","1","1","1","1","0","1","1","1"],
             ["1","1","1","1","1","1","1","1","1","1","1","1","0","1","1","1","1","1","1","0"],
             ["1","1","1","1","1","1","1","1","1","1","1","1","1","0","1","1","1","1","0","0"],
             ["1","1","1","1","1","1","1","1","1","1","1","1","1","1","1","1","1","1","1","1"],
             ["1","1","1","1","1","1","1","1","1","1","1","1","1","1","1","1","1","1","1","1"],
             ["1","1","1","1","1","1","1","1","1","1","1","1","1","1","1","1","1","1","1","1"]]
    print(test.numIslands(test3))

if __name__ == "__main__":
    main()
